# Dockerfile
FROM rockylinux:9.3
ENV container docker

# systemd 및 필수 유틸
RUN dnf -y install systemd systemd-libs systemd-sysv \
    iproute procps-ng less vim-minimal \
 && dnf clean all

# 부팅 시 불필요 서비스 최소화
RUN systemctl mask \
    dev-hugepages.mount \
    sys-fs-fuse-connections.mount \
    systemd-remount-fs.service \
    getty.target \
    console-getty.service \
    systemd-logind.service

VOLUME ["/sys/fs/cgroup"]
STOPSIGNAL SIGRTMIN+3
CMD ["/sbin/init"]
